{% extends 'base.htm' %}
{% load staticfiles %}

{% block page_title_block %}
    <h1>{{ pagetitle }}</h1>
    <h2>{{ pagename }}</h2>
{% endblock %}

{% block body_block %}
   {% if user.is_authenticated %}
      <p>
         {% with zones.0 as zone %}
            <a href="{% url 'lighting:sync' zone.device.address %}" class="btn btn-sm btn-primary" role="button">Sync</a>
         {% endwith %}
      </p>
   {% endif %}
   <table class="table table-striped table-bordered">
      <thead class="thead-inverse">
         <tr>
            <th>Name</th>
            <th>PIR Enabled</th>
            <th>Test Active</th>
            <th>On Delay</th>
         </tr>
      </thead>
      <tbody>
         <!-- 
         {% for zone in zones %}
            <tr>
               {% if user.is_authenticated %}
                  <td> <a href="{% url 'lighting:edit_zone' zone.slug %}"> {{ zone.name }} </a></td>
               {% else %}
                  <td> {{ zone.name }} </td>
               {% endif %}
               <td> {{ zone.pir_enabled }} </td>
               <td> {{ zone.test_active }} </td>
               <td> {{ zone.on_delay }} </td>
            <tr>
         {% endfor %} -->
         {% with zones.2 as zone %}
         <tr>
            <td>
               {% if user.is_authenticated %}
                  <a href="{% url 'lighting:edit_zone' zone.slug %}"> Lower level ({{ zone.name }}) </a>
               {% else %}
                  Lower level ({{ zone.name }})
               {% endif %}
            </td>
            <td>
               {{  zone.pir_enabled }}
            </td>
            <td>
               {{  zone.test_active }}
            </td>
            <td>
               {{  zone.on_delay }}
            </td>
         </tr>
         {% endwith %}

         {% with zones.0 as zone %}
         <tr>
            <td>
               {% if user.is_authenticated %}
                  <a href="{% url 'lighting:edit_zone' zone.slug %}"> Ground level ({{ zone.name }}) </a>
               {% else %}
                  Ground level ({{ zone.name }})
               {% endif %}
            </td>
            <td>
               {{  zone.pir_enabled }}
            </td>
            <td>
               {{  zone.test_active }}
            </td>
            <td>
               {{  zone.on_delay }}
            </td>
         </tr>
         {% endwith %}

         {% with zones.1 as zone %}
         <tr>
            <td>
               {% if user.is_authenticated %}
                  <a href="{% url 'lighting:edit_zone' zone.slug %}"> Upper level ({{ zone.name }}) </a>
               {% else %}
                  Upper level ({{ zone.name }})
               {% endif %}
            </td>
            <td>
               {{  zone.pir_enabled }}
            </td>
            <td>
               {{  zone.test_active }}
            </td>
            <td>
               {{  zone.on_delay }}
            </td>
         </tr>
         {% endwith %}
      </tbody>
   </table>

   <!-- div class="row " id="zone_headers">
      <div class="col-sm-4">
         <strong>Zone</strong>
      </div>
      <div class="col-sm-2">
         <strong>PIR Enabled</strong>
      </div>
      <div class="col-sm-2">
         <strong>Test Active</strong>
      </div>
      <div class="col-sm-3">
         <strong>On Delay</strong>
      </div>
   </div>


   <div class="row" id="row_UG">
      <div class="col-sm-4">
         Lower level (
             {% with zones.2 as zone %}
             {{  zone.name }}
             {% endwith %})
      </div>
      <div class="col-sm-2">
         {% with zones.2 as zone %}
         {{  zone.pir_enabled }}
         {% endwith %}
      </div>
      <div class="col-sm-2">
         {% with zones.2 as zone %}
         {{  zone.test_active }}
         {% endwith %}
      </div>
      <div class="col-sm-3">
         {% with zones.2 as zone %}
         {{  zone.on_delay }}
         {% endwith %}
      </div>
   </div>

   <div class="row" id="row_EG">
      <div class="col-sm-4">
         Ground level (
            {% with zones.0 as zone %}
            {{  zone.name }}
            {% endwith %})
      </div>
      <div class="col-sm-2">
         {% with zones.0 as zone %}
         {{  zone.pir_enabled }}
         {% endwith %}
      </div>
      <div class="col-sm-2">
         {% with zones.0 as zone %}
         {{  zone.test_active }}
         {% endwith %}
      </div>
      <div class="col-sm-3">
         {% with zones.0 as zone %}
         {{  zone.on_delay }}
         {% endwith %}
      </div>
   </div>

   <div class="row" id="row_OG">
      <div class="col-sm-4">
         Upper level (
            {% with zones.1 as zone %}
            {{  zone.name }}
            {% endwith %})
      </div>
      <div class="col-sm-2">
         {% with zones.1 as zone %}
         {{  zone.pir_enabled }}
         {% endwith %}
      </div>
      <div class="col-sm-2">
         {% with zones.1 as zone %}
         {{  zone.test_active }}
         {% endwith %}
      </div>
      <div class="col-sm-3">
         {% with zones.1 as zone %}
         {{  zone.on_delay }}
         {% endwith %}
      </div>
   </div -->

{% endblock %}
